# MySQL无损半同步最佳实践

## 1、工作原理

## 2、无损半同步部署
在部署无损半同步之前，需要准备好MySQL的主从复制环境。以下介绍正是基于已经存在的异步复制环境进行改造
### 2.1 主库安装插件

### 2.2 从库安装插件

### 2.3 主库启动半同步插件并修改配置文件

### 2.4 从库启动半同步插件并修改配置文件

### 2.5 确认半同步复制是否正常工作

## 3、无损半同步复制陷阱
在配置无损半同步复制时，有几种场景容易导致事务丢失，需要重点关注

### 3.1、半同步回退到异步，导致的事故

### 3.2、半同步回退到异步，导致事务丢失

### 3.3、重用故障后的master

## 4、failover的陷阱